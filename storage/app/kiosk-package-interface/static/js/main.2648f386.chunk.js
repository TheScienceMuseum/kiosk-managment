(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){},28:function(e,t,a){e.exports=a(67)},33:function(e,t,a){},35:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(12),i=a.n(o),r=(a(33),a(26)),l=a(7),s=a(4),u=a(10),m=a(8),h=a(9),v=a(2),d=a(71),p=(a(35),a(17)),g=a(72),b=a(70),f=a(73),E=a(68),I=a(13);a(23);function O(e){var t=e.title,a=e.galleryName;return c.a.createElement("li",{className:"MenuItem MenuItem__Title"},c.a.createElement("p",null,a),c.a.createElement("h1",null,t))}O.defaultProps={};var j=O,k=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.titleImage,n=e.articleID,o=e.onClick;return c.a.createElement("li",{className:"MenuItem MenuItem__Mixed"},c.a.createElement("button",{type:"button",onClick:function(){return o(n)}},c.a.createElement("img",{src:a,alt:""}),c.a.createElement("h2",null,t)))}}]),t}(c.a.Component),y=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.titleImage,n=e.articleID,o=e.onClick;return c.a.createElement("li",{className:"MenuItem MenuItem__Video"},c.a.createElement("button",{type:"button",onClick:function(){return o(n)}},c.a.createElement("img",{src:a,alt:"",draggable:"false"}),c.a.createElement("h2",null,t)))}}]),t}(c.a.Component),P={TITLE:"title",VIDEO:"video",MIXED:"mixed"},C="textImage",N="title",T="image",_="horiziontal",x="vertical";a(48);function A(e){var t=this,a=e.contents,n=e.currentFocused,o=e.showTitlePip,i=e.orientation,r=function(t){e.onJump(t)},l=a.map(function(e,a){var i=o?a+1:a,l=e.articleID?e.articleID:e.pageID;return c.a.createElement("button",{className:"MenuPips__Button ".concat(n===i?"MenuPips__Button--active":""),type:"button",onClick:r.bind(t,l),key:"button_".concat(l)},"Jump to ".concat(e.title))});return c.a.createElement("div",{className:"MenuPips MenuPips--".concat(i)},o&&c.a.createElement("button",{className:"MenuPips__Button ".concat(0===n?"MenuPips__Button--active":""),type:"button",onClick:r.bind(this,P.TITLE),key:"button_title"},"Jump to Title"),l)}A.defaultProps={showTitlePip:!1,orientation:_};var D=A;a(50);function w(e){var t=e.onNext,a=e.onPrev,n=e.orientation;return c.a.createElement("div",{className:"NavButtons NavButtons--".concat(n)},c.a.createElement("button",{className:"NavButton NavButtons__Prev",type:"button",onClick:a},"Previous"),c.a.createElement("button",{className:"NavButton NavButtons__Next",type:"button",onClick:t},"Next"))}w.defaultProps={orientation:_};var S=w,L=(a(52),function(e){function t(e){var a;Object(l.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e));var n=e.activeArticle?e.activeArticle:0;return a.state={currentFocused:n},a.onNext=a.nextItem.bind(Object(v.a)(Object(v.a)(a))),a.onPrev=a.previousItem.bind(Object(v.a)(Object(v.a)(a))),a.onJump=a.scrollToItem.bind(Object(v.a)(Object(v.a)(a))),a.handleSwipe=a.handleSwipe.bind(Object(v.a)(Object(v.a)(a))),a.itemClick=a.onItemClick.bind(Object(v.a)(Object(v.a)(a))),a.scrollElem=null,a.scrollTween=null,a}return Object(h.a)(t,e),Object(s.a)(t,null,[{key:"getScrollAmount",value:function(e){return 0===e?0:671+1442*(e-1)}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.currentFocused;this.jumpToItem(e)}},{key:"onItemClick",value:function(e){var t=this.state.currentFocused,a=this.props.history;this.getIndexFromID(e)===t?a.push("./article/".concat(e)):this.scrollToItem(e)}},{key:"getIndexFromID",value:function(e){return this.props.contents.map(function(e){return e.articleID}).indexOf(e)+1}},{key:"nextItem",value:function(){var e=this.props.contents,t=this.state.currentFocused;if(t!==e.length){var a=0===(t+=1)?P.TITLE:e[t-1].articleID;this.setState({currentFocused:t},this.scrollToItem(a))}}},{key:"previousItem",value:function(){var e=this.props.contents,t=this.state.currentFocused;if(null!==t&&0!==t){var a=0===(t-=1)?P.TITLE:e[t-1].articleID;this.setState({currentFocused:t},this.scrollToItem(a))}}},{key:"handleSwipe",value:function(e){2===e.direction?this.nextItem():4===e.direction&&this.previousItem()}},{key:"scrollToItem",value:function(e){var a;a=e===P.TITLE?0:this.getIndexFromID(e),(0,this.props.onArticleLoad)(a),this.setState({currentFocused:a});var n={scrollLeft:t.getScrollAmount(a),ease:E.a.easeOut};this.scrollTween=E.b.to(this.scrollElem,.25,n)}},{key:"jumpToItem",value:function(e){this.scrollElem.scrollLeft=t.getScrollAmount(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.contents,n=t.titles,o=this.state.currentFocused,i=a.map(function(t){var a,n=t.articleID;switch(t.type){case P.VIDEO:a=c.a.createElement(y,Object.assign({key:n,articleID:n},t,{onClick:e.itemClick}));break;case P.MIXED:a=c.a.createElement(k,Object.assign({key:n,articleID:n},t,{onClick:e.itemClick}));break;default:a=""}return a});return c.a.createElement(I.a,{onSwipe:this.handleSwipe},c.a.createElement("nav",{className:"Menu"},c.a.createElement("ul",{className:"Menu__Container",ref:function(t){e.scrollElem=t}},c.a.createElement(j,n),i),c.a.createElement(D,{onJump:this.onJump,contents:a,currentFocused:o,showTitlePip:!0}),c.a.createElement(S,{onPrev:this.onPrev,onNext:this.onNext})))}}]),t}(c.a.Component));L.defaultProps={contents:{}};var M=Object(f.a)(L),B=a(69);a(57);function Z(e){var t=e.title,a=e.subtitle,n=e.image;return c.a.createElement("div",{className:"Page PageTitle"},c.a.createElement("img",{src:n,alt:""}),c.a.createElement("div",{className:"PageTitle__Content"},c.a.createElement("h1",null,t),c.a.createElement("h2",null,a)))}Z.defaultProps={subtitle:""};var F=Z;a(59);var J=function(e){var t=e.videoSrc;return c.a.createElement("div",{className:"Page PageVideo"},c.a.createElement("video",{controls:!0,autoPlay:!0},c.a.createElement("source",{src:t,type:"video/mp4"}),c.a.createElement("track",{kind:"captions"})))};a(61);var z=function(e){var t=e.title,a=e.content,n=e.image,o=e.layout;return c.a.createElement("div",{className:"Page PageTextImage PageTextImage--".concat(o)},c.a.createElement("div",{className:"ImageContainer"},c.a.createElement("img",{src:n.imageSource,alt:""})),c.a.createElement("div",{className:"ContentContainer"},c.a.createElement("h2",null,t),c.a.createElement("p",null,a),c.a.createElement("div",{className:"ImageCaption"},c.a.createElement("h3",null,n.nameText),c.a.createElement("p",null,n.sourceText))))},V=(a(63),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={imageZoomed:!1,zoomLevel:0},a.image=null,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onImageLoaded",value:function(){console.log("Image: onImageLoaded: image: ",this.image),console.log("Image: onImageLoaded: image.width: ",this.image.width),console.log("Image: onImageLoaded: image.offsetWidth: ",this.image.offsetWidth),console.log("Image: onImageLoaded: image.naturalWidth: ",this.image.naturalWidth)}},{key:"handleToggleZoom",value:function(){var e=this.state.imageZoomed;e=!e,this.setState({imageZoomed:e})}},{key:"handleZoomIn",value:function(){var e=this.state.zoomLevel;1!==e&&(e+=.1,this.setState({zoomLevel:e}))}},{key:"handleZoomOut",value:function(){var e=this.state.zoomLevel;0!==e&&(e-=.1,this.setState({zoomLevel:e}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.content,o=t.image,i=this.state.imageZoomed?"zoomedIn":"zoomedOut";return c.a.createElement("div",{className:"Page PageImage"},c.a.createElement("div",{className:"ImageContainer ImageContainer--".concat(i)},c.a.createElement("img",{src:o.imageSource,alt:"",ref:function(t){e.image=t},onLoad:this.onImageLoaded.bind(this)}),c.a.createElement("button",{className:"Button ImageContainer__ZoomButton",type:"button",onClick:this.handleToggleZoom.bind(this)},"Zoom In/Out"),c.a.createElement("div",{className:"ImageContainer__ZoomControls"},c.a.createElement("button",{className:"Button ImageContainer__ZoomInButton",type:"button",onClick:this.handleZoomIn.bind(this)},"Zoom Out"),c.a.createElement("button",{className:"Button ImageContainer__ZoomOutButton",type:"button",onClick:this.handleZoomOut.bind(this)},"Zoom In"))),c.a.createElement("div",{className:"ContentContainer ContentContainer--".concat(i)},c.a.createElement("h2",null,a),c.a.createElement("p",null,n),c.a.createElement("div",{className:"ImageCaption"},c.a.createElement("h3",null,o.nameText),c.a.createElement("p",null,o.sourceText))))}}]),t}(c.a.Component)),W=(a(65),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={currentPage:0},a.handleSwipe=a.handleSwipe.bind(Object(v.a)(Object(v.a)(a))),a.scrollToPage=a.scrollToPage.bind(Object(v.a)(Object(v.a)(a))),a.prevPage=a.prevPage.bind(Object(v.a)(Object(v.a)(a))),a.nextPage=a.nextPage.bind(Object(v.a)(Object(v.a)(a))),a.onJump=a.jumpToPage.bind(Object(v.a)(Object(v.a)(a)));var n=a.props.match.params.articleID;return a.articleContent=a.getArticleContents(n),a.article=t.makeArticle(a.articleContent),a.articleTween=null,a.scrollElem=null,a}return Object(h.a)(t,e),Object(s.a)(t,null,[{key:"makeMixedArticle",value:function(e){return e.subpages.map(function(e){var t,a=e.pageID;switch(e.type){case N:t=c.a.createElement(F,Object.assign({key:a},e));break;case C:t=c.a.createElement(z,Object.assign({key:a},e));break;case T:t=c.a.createElement(V,Object.assign({key:a},e))}return t})}},{key:"makeArticle",value:function(e){switch(e.type){case P.MIXED:return t.makeMixedArticle(e);case P.VIDEO:return c.a.createElement(J,e);default:return null}}}]),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"getArticleContents",value:function(e){return this.props.contents.filter(function(t){return t.articleID===e})[0]}},{key:"handleSwipe",value:function(e){8===e.direction?this.nextPage():16===e.direction&&this.prevPage()}},{key:"nextPage",value:function(){var e=this.state.currentPage;e!==this.articleContent.subpages.length-1&&(e+=1,this.setState({currentPage:e},this.scrollToPage))}},{key:"prevPage",value:function(){var e=this.state.currentPage;0!==e&&(e-=1,this.setState({currentPage:e},this.scrollToPage))}},{key:"jumpToPage",value:function(e){var t=this.articleContent.subpages.map(function(e){return e.pageID}).indexOf(e);this.setState({currentPage:t},this.scrollToPage)}},{key:"scrollToPage",value:function(){var e={scrollTop:1080*this.state.currentPage,ease:E.a.easeOut};this.articleTween=E.b.to(this.scrollElem,.25,e)}},{key:"render",value:function(){var e=this,t=this.state.currentPage,a=this.articleContent.subpages;return c.a.createElement(I.a,{onSwipe:this.handleSwipe,direction:"DIRECTION_VERTICAL"},c.a.createElement("article",{className:"Article"},c.a.createElement(B.a,{to:"/",className:"NavButtonHome"},c.a.createElement("button",{type:"button",className:"Button NavButton"},"Home")),c.a.createElement("div",{className:"Article__Container",ref:function(t){e.scrollElem=t}},this.article),a&&a.length>1&&c.a.createElement("nav",null,c.a.createElement(D,{onJump:this.onJump,contents:a,currentFocused:t,orientation:x}),c.a.createElement(S,{onPrev:this.prevPage,onNext:this.nextPage,orientation:x}))))}}]),t}(c.a.Component));var X=Object(f.a)(function(e){var t=e.data,a=e.location,n=e.onArticleLoad,o=e.activeArticle;return c.a.createElement(p.TransitionGroup,{className:"transition-group"},c.a.createElement(p.CSSTransition,{key:a.key,timeout:{enter:300,exit:300},classNames:"fade"},c.a.createElement(g.a,{location:a},c.a.createElement(b.a,{path:"/",render:function(){return c.a.createElement(M,{titles:t.titles,contents:t.contents,location:a,activeArticle:o,onArticleLoad:n})}}),c.a.createElement(b.a,{path:"/article/:articleID",render:function(e){return c.a.createElement(W,Object.assign({contents:t.contents},e,{location:a}))}}),c.a.createElement(b.a,{render:function(){return c.a.createElement("div",null,"Not Found")}}))))}),H={activeArticle:null,page:null},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state=Object(r.a)({},H),a.setActiveArticle=a.setActiveArticle.bind(Object(v.a)(Object(v.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"setActiveArticle",value:function(e){this.setState({activeArticle:e})}},{key:"render",value:function(){var e=this.props.content,t=this.state.activeArticle;return c.a.createElement(d.a,null,c.a.createElement(X,{data:e,activeArticle:t,onArticleLoad:this.setActiveArticle}))}}]),t}(n.Component);fetch("manifest.json").then(function(e){return e.json()}).then(function(e){i.a.render(c.a.createElement(R,e),document.getElementById("root"))})}},[[28,2,1]]]);
//# sourceMappingURL=main.2648f386.chunk.js.map